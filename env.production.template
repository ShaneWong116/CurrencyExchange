# ============================================
# Exchange System - 生产环境配置模板
# ============================================
# 
# 使用说明：
# 1. 复制此文件为 .env.production
#    cp env.production.template .env.production
# 
# 2. 修改下面的配置项
# 
# 3. 在 docker-compose.prod.yml 中引用
#    docker-compose --env-file .env.production -f docker-compose.prod.yml up -d
# 
# ============================================

# --------------------------------------------
# 应用基本配置
# --------------------------------------------
APP_NAME=ExchangeSystem
APP_ENV=production
APP_DEBUG=false

# 应用密钥（必须设置！运行 php artisan key:generate 生成）
# 格式: base64:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
APP_KEY=

# 应用 URL（改为你的实际域名）
APP_URL=https://your-domain.com

# 时区设置
APP_TIMEZONE=Asia/Shanghai
APP_LOCALE=zh_CN

# --------------------------------------------
# 数据库配置
# --------------------------------------------
DB_CONNECTION=sqlite
DB_DATABASE=/var/www/html/database/database.sqlite

# 如果使用 MySQL，取消下面的注释并配置
# DB_CONNECTION=mysql
# DB_HOST=mysql
# DB_PORT=3306
# DB_DATABASE=exchange_system
# DB_USERNAME=root
# DB_PASSWORD=your_secure_password

# --------------------------------------------
# 缓存配置
# --------------------------------------------
CACHE_DRIVER=file
SESSION_DRIVER=file
SESSION_LIFETIME=120

# 如果使用 Redis，取消下面的注释
# CACHE_DRIVER=redis
# SESSION_DRIVER=redis
# REDIS_HOST=redis
# REDIS_PASSWORD=null
# REDIS_PORT=6379

# --------------------------------------------
# 队列配置
# --------------------------------------------
QUEUE_CONNECTION=database

# 如果使用 Redis 队列，取消下面的注释
# QUEUE_CONNECTION=redis

# --------------------------------------------
# 邮件配置
# --------------------------------------------
MAIL_MAILER=smtp
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=your-email@example.com
MAIL_PASSWORD=your-email-password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@example.com
MAIL_FROM_NAME="${APP_NAME}"

# --------------------------------------------
# 日志配置
# --------------------------------------------
LOG_CHANNEL=daily
LOG_LEVEL=error
LOG_DAYS=14

# --------------------------------------------
# Filament 后台管理配置
# --------------------------------------------
FILAMENT_PATH=admin
FILAMENT_DOMAIN=

# --------------------------------------------
# Coding 镜像仓库配置
# --------------------------------------------
# 替换为你的 Coding 制品库信息
DOCKER_REGISTRY=coding-public.coding.net
DOCKER_NAMESPACE=your-team/exchange-system/exchange-system-docker
IMAGE_VERSION=latest

# 完整镜像地址（自动组合，无需修改）
BACKEND_IMAGE=${DOCKER_REGISTRY}/${DOCKER_NAMESPACE}/exchange-system-backend:${IMAGE_VERSION}
NGINX_IMAGE=${DOCKER_REGISTRY}/${DOCKER_NAMESPACE}/exchange-system-nginx:${IMAGE_VERSION}

# --------------------------------------------
# 安全配置
# --------------------------------------------
# 允许的 CORS 来源（多个用逗号分隔）
CORS_ALLOWED_ORIGINS=https://your-domain.com

# 是否启用 API 限流
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# --------------------------------------------
# 备份配置
# --------------------------------------------
# 自动备份数据库（每天凌晨 2 点）
BACKUP_ENABLED=true
BACKUP_PATH=/var/www/html/storage/backups
BACKUP_KEEP_DAYS=7

# --------------------------------------------
# 监控配置
# --------------------------------------------
# 是否启用性能监控
MONITORING_ENABLED=false

# Sentry 错误追踪（可选）
# SENTRY_LARAVEL_DSN=https://xxxxx@sentry.io/xxxxx

# --------------------------------------------
# 其他配置
# --------------------------------------------
# 文件上传限制（MB）
UPLOAD_MAX_SIZE=10

# 导出文件保存天数
EXPORT_FILE_KEEP_DAYS=30

